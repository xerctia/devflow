{
  "version": 3,
  "sources": ["../../../src/cli/docs.ts"],
  "sourcesContent": ["import { Command } from \"@commander-js/extra-typings\";\nimport chalk from \"chalk\";\nimport open from \"open\";\nimport { Context, logMessage, oneoffContext } from \"../bundler/context.js\";\nimport { getTargetDeploymentName } from \"./lib/deployment.js\";\nimport { bigBrainFetch, deprecationCheckWarning } from \"./lib/utils/utils.js\";\n\nexport const docs = new Command(\"docs\")\n  .description(\"Open the docs in the browser\")\n  .allowExcessArguments(false)\n  .option(\"--no-open\", \"Print docs URL instead of opening it in your browser\")\n  .action(async (options) => {\n    const ctx = oneoffContext();\n    // Usually we'd call `getConfiguredDeploymentName` but in this\n    // command we don't care at all if the user is in the right directory\n    const configuredDeployment = getTargetDeploymentName();\n    const getCookieUrl = `get_cookie/${configuredDeployment}`;\n    const fetch = await bigBrainFetch(ctx);\n    try {\n      const res = await fetch(getCookieUrl);\n      deprecationCheckWarning(ctx, res);\n      const { cookie } = await res.json();\n      await openDocs(ctx, options.open, cookie);\n    } catch {\n      await openDocs(ctx, options.open);\n    }\n  });\n\nasync function openDocs(ctx: Context, toOpen: boolean, cookie?: string) {\n  let docsUrl = \"https://docs.convex.dev\";\n  if (cookie !== undefined) {\n    docsUrl += \"/?t=\" + cookie;\n  }\n  if (toOpen) {\n    await open(docsUrl);\n    logMessage(ctx, chalk.green(\"Docs have launched! Check your browser.\"));\n  } else {\n    logMessage(ctx, chalk.green(`Find Convex docs here: ${docsUrl}`));\n  }\n}\n"],
  "mappings": ";AAAA,SAAS,eAAe;AACxB,OAAO,WAAW;AAClB,OAAO,UAAU;AACjB,SAAkB,YAAY,qBAAqB;AACnD,SAAS,+BAA+B;AACxC,SAAS,eAAe,+BAA+B;AAEhD,aAAM,OAAO,IAAI,QAAQ,MAAM,EACnC,YAAY,8BAA8B,EAC1C,qBAAqB,KAAK,EAC1B,OAAO,aAAa,sDAAsD,EAC1E,OAAO,OAAO,YAAY;AACzB,QAAM,MAAM,cAAc;AAG1B,QAAM,uBAAuB,wBAAwB;AACrD,QAAM,eAAe,cAAc,oBAAoB;AACvD,QAAM,QAAQ,MAAM,cAAc,GAAG;AACrC,MAAI;AACF,UAAM,MAAM,MAAM,MAAM,YAAY;AACpC,4BAAwB,KAAK,GAAG;AAChC,UAAM,EAAE,OAAO,IAAI,MAAM,IAAI,KAAK;AAClC,UAAM,SAAS,KAAK,QAAQ,MAAM,MAAM;AAAA,EAC1C,QAAQ;AACN,UAAM,SAAS,KAAK,QAAQ,IAAI;AAAA,EAClC;AACF,CAAC;AAEH,eAAe,SAAS,KAAc,QAAiB,QAAiB;AACtE,MAAI,UAAU;AACd,MAAI,WAAW,QAAW;AACxB,eAAW,SAAS;AAAA,EACtB;AACA,MAAI,QAAQ;AACV,UAAM,KAAK,OAAO;AAClB,eAAW,KAAK,MAAM,MAAM,yCAAyC,CAAC;AAAA,EACxE,OAAO;AACL,eAAW,KAAK,MAAM,MAAM,0BAA0B,OAAO,EAAE,CAAC;AAAA,EAClE;AACF;",
  "names": []
}
